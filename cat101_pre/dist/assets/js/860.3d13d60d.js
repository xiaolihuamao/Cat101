"use strict";(self["webpackChunkcat101_pre"]=self["webpackChunkcat101_pre"]||[]).push([[860],{3860:function(e,t,r){r.r(t),r.d(t,{default:function(){return n}});var a=function(){var e=this,t=e._self._c;return t("div",[t("el-page-header",{on:{back:e.goBack}}),t("div",{staticClass:"title"},[e._v("~猫咪领养申请~")]),t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[t("el-image",{attrs:{src:e.cat.curl,fit:"scale-down","preview-src-list":e.srcList,title:"点击查看大图"}}),t("el-form-item",{attrs:{label:"您的id"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.uid,callback:function(t){e.$set(e.ruleForm,"uid",t)},expression:"ruleForm.uid"}})],1),t("el-form-item",{attrs:{label:"猫咪id"}},[t("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.cid,callback:function(t){e.$set(e.ruleForm,"cid",t)},expression:"ruleForm.cid"}})],1),t("el-form-item",{attrs:{label:"领养原因",prop:"ainfo"}},[t("el-input",{staticStyle:{"font-size":"16px"},attrs:{type:"textarea",placeholder:"您可以从爱好、经验、性格等方面阐述领养原因\n（100字以内）",rows:"20"},model:{value:e.ruleForm.ainfo,callback:function(t){e.$set(e.ruleForm,"ainfo",t)},expression:"ruleForm.ainfo"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交申请")]),t("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},l=[],s=(r(7658),r(586)),o={name:"myApply",data(){return{srcList:[JSON.parse(localStorage.getItem("cat")).curl],ruleForm:{uid:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).uid:"",cid:JSON.parse(localStorage.getItem("cat")).cid,ainfo:""},rules:{ainfo:[{required:!0,message:"请输入领养原因",trigger:"blur"},{max:100,message:"长度在 100 字以内",trigger:"blur"}]},updateInfo:{cid:JSON.parse(localStorage.getItem("cat")).cid,cisadopt:1},cat:JSON.parse(localStorage.getItem("cat"))}},methods:{goBack(){window.history.go(-1)},submitForm(e){this.$refs[e].validate((async e=>{if(!e)return console.log("error submit!!"),!1;{const e=JSON.stringify(this.ruleForm),{data:t}=await(0,s.nJ)(e);"200"===t.code?(await(0,s.$A)(JSON.stringify(this.updateInfo)),this.$message.success("申请成功！！"),this.$router.push("/layout/info")):this.$message.error(t.msg)}}))},resetForm(e){this.$refs[e].resetFields()}}},i=o,u=r(1001),c=(0,u.Z)(i,a,l,!1,null,"dfeee608",null),n=c.exports}}]);
//# sourceMappingURL=860.3d13d60d.js.map
"use strict";(self["webpackChunkcat101_pre"]=self["webpackChunkcat101_pre"]||[]).push([[690],{3690:function(e,r,t){t.r(r),t.d(r,{default:function(){return n}});var l=function(){var e=this,r=e._self._c;return r("div",[r("el-page-header",{on:{back:e.goBack}}),r("div",{staticClass:"title"},[e._v("~猫咪领养申请~")]),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-image",{attrs:{src:e.cat.curl,fit:"scale-down","preview-src-list":e.srcList,title:"点击查看大图"}}),r("el-form-item",{attrs:{label:"您的id"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.uid,callback:function(r){e.$set(e.ruleForm,"uid",r)},expression:"ruleForm.uid"}})],1),r("el-form-item",{attrs:{label:"猫咪id"}},[r("el-input",{attrs:{disabled:""},model:{value:e.ruleForm.cid,callback:function(r){e.$set(e.ruleForm,"cid",r)},expression:"ruleForm.cid"}})],1),r("el-form-item",{attrs:{label:"领养原因",prop:"ainfo"}},[r("el-input",{staticStyle:{"font-size":"16px"},attrs:{type:"textarea",placeholder:"您可以从爱好、经验、性格等方面阐述领养原因\n（100字以内）",rows:"20"},model:{value:e.ruleForm.ainfo,callback:function(r){e.$set(e.ruleForm,"ainfo",r)},expression:"ruleForm.ainfo"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交申请")]),r("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},a=[],o=(t(7658),t(586)),s={name:"myApply",data(){return{srcList:[JSON.parse(localStorage.getItem("cat")).curl],ruleForm:{uid:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).uid:"",cid:JSON.parse(localStorage.getItem("cat")).cid,ainfo:""},rules:{ainfo:[{required:!0,message:"请输入领养原因",trigger:"blur"},{max:100,message:"长度在 100 字以内",trigger:"blur"}]},updateInfo:{cid:JSON.parse(localStorage.getItem("cat")).cid,cisadopt:1},cat:JSON.parse(localStorage.getItem("cat"))}},methods:{goBack(){window.history.go(-1)},submitForm(e){this.$refs[e].validate((async e=>{if(!e)return console.log("error submit!!"),!1;{console.log(this.ruleForm);const e=JSON.stringify(this.ruleForm),{data:r}=await(0,o.nJ)(e);console.log(r.code),"200"===r.code?(await(0,o.$A)(JSON.stringify(this.updateInfo)),this.$message.success("申请成功！！"),this.$router.push("/layout/info")):this.$message.error(r.msg)}}))},resetForm(e){this.$refs[e].resetFields()}}},i=s,u=t(1001),c=(0,u.Z)(i,l,a,!1,null,"660b0cda",null),n=c.exports}}]);
//# sourceMappingURL=690.651adb2a.js.map